{% extends "BoutiqueApp/index.html" %}
{% block content %}

<div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-pink fw-bold">Calendario</h2>
        <a href="{% url 'listar_citas' %}" class="btn btn-listar">Volver</a>
    </div>

    <div class="calendario-contenedor">
        <div id="calendar"></div>
    </div>
    <h6 class="text-center mt-2">ðŸ’— Rosa = Cita Programada / ðŸ’œ Morado = Fecha de Entrega</h6>
</div>

<!-- âš™ FULLCALENDAR -->
<link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css' rel='stylesheet' />
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js'></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
    var calendar = new FullCalendar.Calendar(document.getElementById('calendar'), {
        locale : 'es',
        initialView: 'dayGridMonth',
        locale: 'es',
        themeSystem: 'bootstrap5', 
        headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: 'dayGridMonth,listMonth'
            
        },
        buttonText: {
            today: 'Hoy',
            month: 'Mes',
            list: 'Lista'
        },
        displayEventTime: true, // Mostrar hora si existe
        allDayText: '', 
        eventClick: function(info) {
            info.jsEvent.preventDefault();  // Evitar que abra nueva pestaÃ±a
            if (info.event.url) {
                window.location.href = info.event.url;  // ðŸ‘ˆ Abrir Ver Cita
            }
        },
        events: "{% url 'eventos_citas' %}",
        eventDisplay: 'block',
    });
    calendar.render();
}); 


</script>

{% endblock %}
